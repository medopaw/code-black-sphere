{% extends "base.html" %}

{% block title %}在线代码评测{% endblock %}

{% block content %}
<div class="container">
    <h1>在线代码评测</h1>
    <form id="code-submission-form">
        <div class="form-group">
            <label for="language">选择语言:</label>
            <select id="language" name="language" class="form-control">
                <option value="python">Python</option>
                <option value="javascript">JavaScript</option>
                <option value="java">Java</option>
                <option value="c++">C++</option>
                <option value="c">C</option>
                {# Add more languages as needed, ensure values match backend expectations #}
            </select>
        </div>

        <div class="form-group">
            <label for="source_code">源代码:</label>
            <textarea id="source_code" name="source_code" rows="15" class="form-control" placeholder="在此输入您的代码..."></textarea>
        </div>

        <div class="form-group">
            <label for="stdin">标准输入 (可选):</label>
            <textarea id="stdin" name="stdin" rows="5" class="form-control" placeholder="如果您的代码需要输入，请在此处提供..."></textarea>
        </div>

        {# <div class="form-group">
            <label for="expected_output">预期输出 (可选, 用于测试):</label>
            <textarea id="expected_output" name="expected_output" rows="5" class="form-control" placeholder="如果需要，提供预期的输出以进行比较..."></textarea>
        </div> #}

        <button type="submit" class="btn btn-primary">提交代码</button>
    </form>

    <div id="result-container" style="margin-top: 20px;">
        <h2>评测结果:</h2>
        <pre id="submission-status">等待提交...</pre>
        <div id="output-details">
            <p><strong>状态:</strong> <span id="status-description">-</span></p>
            <p><strong>时间 (ms):</strong> <span id="time-taken">-</span></p>
            <p><strong>内存 (KB):</strong> <span id="memory-used">-</span></p>
            <p><strong>标准输出:</strong></p>
            <pre id="stdout-output">-</pre>
            <p><strong>标准错误:</strong></p>
            <pre id="stderr-output">-</pre>
            <p><strong>编译输出:</strong></p>
            <pre id="compile-output">-</pre>
            <p><strong>错误信息:</strong></p>
            <pre id="error-message">-</pre>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
